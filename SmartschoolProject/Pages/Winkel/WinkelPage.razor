@page "/winkel"
@inject NavigationManager navigationManager

<style>
    .actief {
        padding: 0;
        cursor: default;
    }

    .knop {
        margin-left: 2rem;
    }

    .check{
        margin-left: 2rem;
        width: 5rem;
        cursor: not-allowed;
    }

    .winkelnaam {
        width: 10rem;
    }

    label{
        margin: 0;
    }

    .heading{
        margin-bottom: 2rem;
    }

    .nietActief{
        padding: 0;
        opacity: 0.6;
    }
</style>


<MatH2 Class="heading">Mijn winkels</MatH2>

<MatList>


    @foreach (Winkel winkel in winkels)
    {

        if (winkel.actief)
        {
            <MatListItem Class="actief" Disabled="true">

                <div class="winkelnaam">@winkel.naam</div>

                <MatButton Unelevated="true" Class="knop">bewerken</MatButton>

                <MatCheckbox @bind-Value="@winkel.actief" Class="check" Label="Actief"></MatCheckbox>

            </MatListItem>

            <MatListDivider></MatListDivider>
        }
        else
        {

            <MatListItem Class="nietActief" Disabled="true">

                <div class="winkelnaam">@winkel.naam</div>

                <MatButton Unelevated="true" Disabled="true" Class="knop">bewerken</MatButton>

                <MatCheckbox @bind-Value="@winkel.actief" Disabled="true" Class="check" Label="Actief"></MatCheckbox>

            </MatListItem>

            <MatListDivider></MatListDivider>
        }



    }


</MatList>


<br />
<MatButton Unelevated="true" @onclick="@GaNaarWinkelToevoegen">Winkel toevoegen</MatButton>

@code {

    public DBConnection DBConnection = new DBConnection();
    public List<Winkel> winkels = new List<Winkel>();

    protected override void OnInitialized()
    {
        winkels = DBConnection.GetAllWinkels();
    }

    public void GaNaarWinkelToevoegen()
    {
        navigationManager.NavigateTo("/winkeltoevoegen");
    }

}
